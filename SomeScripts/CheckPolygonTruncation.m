clc
clear all
close all

stlFile = '../Box3D.stl';

% Read the STL file
model = stlread(stlFile);

% Extract faces and vertices
faces = model.ConnectivityList;
vertices = model.Points;

% Display the STL model
figure(1);
patch('Vertices', vertices, 'Faces', faces, ...
      'FaceColor', 'flat', 'EdgeAlpha', 1, 'facealpha', 0);


OriginalP = [0.4232717818034667	0.7582758227954154	0.3981762821261431
0.6507470408067998	0.7709360305450141	0.5323787894908858
0.5265596304095337	0.9933253213151954	0.4614134616790799
0.24581679833860548	0.2881351600161975	0.37913725799695175
0.0	0.05178494421492982	0.04900642395493693
0.0	0.023179842257528685	0.0012260512042374951
0.026640868362556636	0.026640868362556636	0.0
0.013299047174859503	0.02453998207333006	0.0
0.47359346934550206	0.09702080961114004	0.0
0.690977761606909	0.2978928368519688	0.4828016741956429
1.0	0.6217990642112271	0.1681258698455836
1.0	0.6604835719714484	0.14598450071670316
0.47058879660840536	0.8153670610232965	0.27882554180938623
];

StructP = [1,2,3, 3, 3, 3
    4 5 6 7 8 9 
    10 11 12 13 13 13];

Pkk = [0.0887146, 0.992077, 0.323736;  0.100408, 0.682157, 0.361363;  0.30806, 0.825049, 0.176795;  0.30806, 0.825049, 0.176795;  0.0887146, 0.992077, 0.323736;  0.100408, 0.682157, 0.361363];

figure(1)
view(3)
patch('Vertices', OriginalP, 'Faces', StructP, 'FaceVertexCData', zeros(size(StructP, 1), 1), ...
    'FaceColor', 'flat', 'EdgeAlpha', 1, 'facealpha', 0); hold on

% for i = 1:size(Pkk, 1)
%     scatter3(Pkk(i, 1), Pkk(i, 2), Pkk(i, 3), '*'); hold on
% end